window.__require=function t(e,o,i){function r(a,s){if(!o[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var p="function"==typeof __require&&__require;if(!s&&p)return p(c,!0);if(n)return n(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var l=o[a]={exports:{}};e[a][0].call(l.exports,function(t){return r(e[a][1][t]||t)},l,l.exports,t,e,o,i)}return o[a].exports}for(var n="function"==typeof __require&&__require,a=0;a<i.length;a++)r(i[a]);return r}({cameraFollow:[function(t,e,o){"use strict";cc._RF.push(e,"1fd92QoPFlJIZO0/M2Cu9lx","cameraFollow");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),r=this&&this.__decorate||function(t,e,o,i){var r,n=arguments.length,a=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(n<3?r(a):n>3?r(e,o,a):r(e,o))||a);return n>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,a=n.ccclass,s=n.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.player_Node=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.update=function(t){var e=this.player_Node.getPosition(),o=this.node.getPosition();o.lerp(e,.05,o),this.node.setPosition(o)},r([s(cc.Node)],e.prototype,"player_Node",void 0),e=r([a],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],egg:[function(t,e,o){"use strict";cc._RF.push(e,"22855HAUyNO5p7GVmExgVNt","egg");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),r=this&&this.__decorate||function(t,e,o,i){var r,n=arguments.length,a=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(n<3?r(a):n>3?r(e,o,a):r(e,o))||a);return n>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,a=n.ccclass,s=n.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprites=[],e}return i(e,t),e.prototype.onLoad=function(){var t=Math.floor(Math.random()*this.sprites.length-1);this.getComponent(cc.Sprite).spriteFrame=this.sprites[t],cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0},e.prototype.start=function(){},r([s([cc.SpriteFrame])],e.prototype,"sprites",void 0),e=r([a],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],gameManager:[function(t,e,o){"use strict";cc._RF.push(e,"4420chOGthIFoCw6p1DcFFT","gameManager");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,o=1,i=arguments.length;o<i;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},n=this&&this.__decorate||function(t,e,o,i){var r,n=arguments.length,a=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(n<3?r(a):n>3?r(e,o,a):r(e,o))||a);return n>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.gameManager=o.deepCopy=void 0;var a=cc._decorator,s=a.ccclass,c=a.property;o.deepCopy=function(t){if(null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof Array){var e=[];return t.forEach(function(t){e.push(t)}),e.map(function(t){return o.deepCopy(t)})}if("object"==typeof t&&t!=={}){var i=r({},t);return Object.keys(i).forEach(function(t){i[t]=o.deepCopy(i[t])}),i}return t};var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.background_size=0,e.tilebackPref=null,e.backSprite=[],e.tileWallPref=null,e.WallSprite=[],e.backParent=null,e.otherPlayerParent=null,e.otherPlayerPref=null,e.eggPref=null,e.label_scores=[],e.label_top5=[],e.label_timer=null,e.player=null,e.pnlEndgame=null,e.pnlStartGame=null,e.otherPlayer=[],e.isStartGame=!1,e.isEndGame=!1,e.isNewEgg=!1,e.time=90,e.egg=null,e.numberOfEgg=0,e}return i(e,t),e.prototype.onLoad=function(){this.serverSimulator=this.getComponent("serveSimulator"),this.isNewEgg=!1,this.background_size=this.serverSimulator.map_tile_size,this.pnlStartGame.active=!0,this.pnlEndgame.active=!1,this.playerts=this.player.getComponent("player");for(var t=-this.background_size;t<=this.background_size;t++)for(var e=-this.background_size;e<=this.background_size;e++){var o=Math.round(Math.random()*(this.backSprite.length-1));(i=cc.instantiate(this.tilebackPref)).setPosition(cc.v2(64*t,64*e)),i.getComponent(cc.Sprite).spriteFrame=this.backSprite[o],this.backParent.addChild(i)}for(t=-this.background_size-1;t<=this.background_size+1;t++){o=Math.round(Math.random()*(this.WallSprite.length-1));(i=cc.instantiate(this.tileWallPref)).setPosition(cc.v2(64*t,64*(this.background_size+1))),i.getComponent(cc.Sprite).spriteFrame=this.WallSprite[o],this.backParent.addChild(i)}for(t=-this.background_size;t<=this.background_size;t++){o=Math.round(Math.random()*(this.WallSprite.length-1));(i=cc.instantiate(this.tileWallPref)).setPosition(cc.v2(64*(this.background_size+1),64*-t)),i.getComponent(cc.Sprite).spriteFrame=this.WallSprite[o],this.backParent.addChild(i)}for(t=-this.background_size;t<=this.background_size;t++){o=Math.round(Math.random()*(this.WallSprite.length-1));(i=cc.instantiate(this.tileWallPref)).setPosition(cc.v2(64*-(this.background_size+1),64*-t)),i.getComponent(cc.Sprite).spriteFrame=this.WallSprite[o],this.backParent.addChild(i)}for(t=-this.background_size-1;t<=this.background_size+1;t++){var i;o=Math.round(Math.random()*(this.WallSprite.length-1));(i=cc.instantiate(this.tileWallPref)).setPosition(cc.v2(64*t,64*-(this.background_size+1))),i.getComponent(cc.Sprite).spriteFrame=this.WallSprite[o],this.backParent.addChild(i)}var r=Math.floor(this.time/60),n=this.time%60;this.label_timer.string="Time: "+r+"p "+n+"s "},e.prototype.timer=function(){if(this.time-=1,this.time<0)this.endGame(),clearInterval(this.myTimer);else{var t=Math.floor(this.time/60),e=this.time%60;this.label_timer.string="Time: "+t+"p "+e+"s "}},e.prototype.spawNewEgg=function(t){this.numberOfEgg++,this.egg&&this.egg.destroy(),this.egg=cc.instantiate(this.eggPref),this.egg.setPosition(t),this.otherPlayerParent.addChild(this.egg),this.upDateTopPlayerUI()},e.prototype.endGame=function(){this.getComponent(cc.AudioSource).play(),this.isEndGame=!0,this.playerts.endGame(),this.otherPlayer.forEach(function(t){t.endGame()}),this.sendMessage(this.playerts.player,0),this.pnlEndgame.active=!0;var t=o.deepCopy(this.serverSimulator.players);t.sort(function(t,e){return e.score-t.score});for(var e=0;e<3;e++){var i=t[e].name+"                                     ",r=t[e].score+"      ",n=e+1;this.label_scores[e].string="#"+n+"  "+i.slice(0,13)+r.slice(0,3)}},e.prototype.gotMessage=function(t,e,o){for(var i=1;i<this.otherPlayer.length;i++)this.otherPlayer[i].updatePlayer(t[i]);this.isNewEgg!=e&&(this.spawNewEgg(o),this.isNewEgg=e)},e.prototype.sendMessage=function(t,e){this.serverSimulator.gotMessage(t,e,this.isNewEgg,this.isStartGame,this.isEndGame)},e.prototype.updateMainPlayer=function(t){this.serverSimulator.gotMessage(t,0,this.isNewEgg,this.isStartGame,this.isEndGame)},e.prototype.upDateTopPlayerUI=function(){var t=o.deepCopy(this.serverSimulator.players);t.sort(function(t,e){return e.score-t.score});for(var e=0;e<5;e++){var i=t[e].name+"                                               ",r=t[e].score+"      ",n=e+1;this.label_top5[e].string="#"+n+"  "+i.slice(0,22)+r.slice(0,3)}},e.prototype.btnRestart=function(){cc.director.loadScene("PlayScene")},e.prototype.btnStart=function(){var t=this;this.playerts.isStartGame=!0,this.sendMessage(this.playerts.player,0),this.isStartGame=!0,this.pnlStartGame.active=!1,this.serverSimulator.players.forEach(function(e,o){if(0!=o){var i=cc.instantiate(t.otherPlayerPref);i.setPosition(e.position),t.otherPlayer[o]=i.getComponent("otherPlayer"),t.otherPlayer[o].id=o,t.otherPlayer[o].updatePlayer(e),t.otherPlayerParent.addChild(i)}}),this.spawNewEgg(this.serverSimulator.eggPos),this.myTimer=setInterval(function(){t.timer()},1e3)},n([c],e.prototype,"background_size",void 0),n([c(cc.Prefab)],e.prototype,"tilebackPref",void 0),n([c([cc.SpriteFrame])],e.prototype,"backSprite",void 0),n([c(cc.Prefab)],e.prototype,"tileWallPref",void 0),n([c([cc.SpriteFrame])],e.prototype,"WallSprite",void 0),n([c(cc.Node)],e.prototype,"backParent",void 0),n([c(cc.Node)],e.prototype,"otherPlayerParent",void 0),n([c(cc.Prefab)],e.prototype,"otherPlayerPref",void 0),n([c(cc.Prefab)],e.prototype,"eggPref",void 0),n([c([cc.Label])],e.prototype,"label_scores",void 0),n([c([cc.Label])],e.prototype,"label_top5",void 0),n([c(cc.Label)],e.prototype,"label_timer",void 0),n([c(cc.Node)],e.prototype,"player",void 0),n([c(cc.Node)],e.prototype,"pnlEndgame",void 0),n([c(cc.Node)],e.prototype,"pnlStartGame",void 0),e=n([s],e)}(cc.Component);o.gameManager=p,cc._RF.pop()},{}],otherPlayer:[function(t,e,o){"use strict";cc._RF.push(e,"82b9ez1mJJOFYreEv9KpB8N","otherPlayer");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),r=this&&this.__decorate||function(t,e,o,i){var r,n=arguments.length,a=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(n<3?r(a):n>3?r(e,o,a):r(e,o))||a);return n>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.otherPlayer=void 0;var n=cc._decorator,a=n.ccclass,s=n.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.velocity_max=450,e.velocity_min=350,e.label_name=null,e.colors=[],e.audioEat=null,e.isInstatiate=!1,e.player={score:0,isGotEgg:!1,name:"Name",position:cc.v2(0,0),color:0,net_latency:200},e}return i(e,t),e.prototype.onLoad=function(){this.audioEat=this.getComponent(cc.AudioSource);var t=cc.find("Canvas");this.gameManager=t.getComponent("gameManager"),this.rigidbody=this.getComponent(cc.RigidBody),this.node.color=this.colors[this.player.color],this.label_name.string=this.player.name+": "+this.player.score,this.anim=this.getComponent(cc.Animation)},e.prototype.onCollisionEnter=function(t,e){1==t.tag&&(this.player.isGotEgg=!0,this.gameManager.sendMessage(this.player,this.id),this.audioEat.play())},e.prototype.start=function(){},e.prototype.update=function(t){this.label_name.string=this.player.name+": "+this.player.score;var e=this.player.position,o=this.node.getPosition(),i=e,r=(i=i.sub(o)).x+i.y,n=Math.abs(r/(this.player.net_latency/1e3));n>this.velocity_max&&(n=this.velocity_max),n<this.velocity_min&&(n=this.velocity_min),Math.abs(i.x)<20?i.y>0?(i=cc.v2(0,1),this.anim.play("playerMoveUp")):(i=cc.v2(0,-1),this.anim.play("playerMoveDown")):i.x>0?(i=cc.v2(1,0),this.anim.play("playerMoveRight")):(i=cc.v2(-1,0),this.anim.play("playerMoveLeft")),this.rigidbody.linearVelocity=i.mul(n)},e.prototype.endGame=function(){this.velocity_max=0,this.velocity_min=0},e.prototype.updatePlayer=function(t){this.player=t},r([s],e.prototype,"velocity_max",void 0),r([s],e.prototype,"velocity_min",void 0),r([s(cc.Label)],e.prototype,"label_name",void 0),r([s([cc.Color])],e.prototype,"colors",void 0),r([s(cc.AudioSource)],e.prototype,"audioEat",void 0),e=r([a],e)}(cc.Component);o.otherPlayer=c,cc._RF.pop()},{}],player:[function(t,e,o){"use strict";cc._RF.push(e,"88aaa92bvVNXbOVQsgw3irj","player");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),r=this&&this.__decorate||function(t,e,o,i){var r,n=arguments.length,a=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(n<3?r(a):n>3?r(e,o,a):r(e,o))||a);return n>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.player=void 0;var n=cc._decorator,a=n.ccclass,s=n.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.velocity_max=0,e.canvas=null,e.label_name=null,e.editBox_namePlayer=null,e.colors=[],e.audioEat=null,e.direction=null,e.anim=null,e.player={score:0,isGotEgg:!1,name:"Name",position:cc.v2(0,0),color:0,net_latency:200},e.xSpeed=0,e.ySpeed=0,e.accLeft=!1,e.accRight=!1,e.accUp=!1,e.accDown=!1,e.isStartGame=!1,e.interval_time=300,e}return i(e,t),e.prototype.onKeyDown=function(t){switch(t.keyCode){case cc.macro.KEY.a:this.direction.equals(cc.v2(-1,0))||(this.direction=cc.v2(-1,0),this.anim.play("playerMoveLeft"));break;case cc.macro.KEY.d:this.direction.equals(cc.v2(1,0))||(this.direction=cc.v2(1,0),this.anim.play("playerMoveRight"));break;case cc.macro.KEY.w:this.direction.equals(cc.v2(0,1))||(this.direction=cc.v2(0,1),this.anim.play("playerMoveUp"));break;case cc.macro.KEY.s:this.direction.equals(cc.v2(0,-1))||(this.direction=cc.v2(0,-1),this.anim.play("playerMoveDown"))}},e.prototype.onCollisionEnter=function(t,e){1==t.tag&&(this.player.isGotEgg=!0,this.gameManager.sendMessage(this.player,0),this.audioEat.play())},e.prototype.onLoad=function(){this.direction=cc.v2(0,0),this.gameManager=this.canvas.getComponent("gameManager"),this.audioEat=this.getComponent(cc.AudioSource),cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0,this.player.position=cc.v2(1e3*Math.random()-500,1e3*Math.random()-500),this.node.setPosition(this.player.position),this.player.color=Math.floor(5*Math.random()),this.node.color=this.colors[this.player.color],this.gameManager.updateMainPlayer(this.player),this.anim=this.getComponent(cc.Animation),this.rigidbody=this.getComponent(cc.RigidBody),this.anim.play(),this.xSpeed=0,this.ySpeed=0,this.accLeft=!1,this.accRight=!1,this.accUp=!1,this.accDown=!1,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},e.prototype.update=function(t){this.label_name.string=this.player.name+": "+this.player.score,this.isStartGame&&(this.rigidbody.linearVelocity=this.direction.mul(this.velocity_max))},e.prototype.endGame=function(){this.velocity_max=0},e.prototype.onDestroy=function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},e.prototype.onEditingEnded=function(){this.player.name=this.editBox_namePlayer.string},r([s],e.prototype,"velocity_max",void 0),r([s(cc.Node)],e.prototype,"canvas",void 0),r([s(cc.Label)],e.prototype,"label_name",void 0),r([s(cc.EditBox)],e.prototype,"editBox_namePlayer",void 0),r([s([cc.Color])],e.prototype,"colors",void 0),r([s(cc.AudioSource)],e.prototype,"audioEat",void 0),e=r([a],e)}(cc.Component);o.player=c,cc._RF.pop()},{}],serveSimulator:[function(t,e,o){"use strict";cc._RF.push(e,"febfbxmPblExYXi0/Fq3GDw","serveSimulator");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),r=this&&this.__decorate||function(t,e,o,i){var r,n=arguments.length,a=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(n<3?r(a):n>3?r(e,o,a):r(e,o))||a);return n>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.serverSimulator=void 0;var n=cc._decorator,a=n.ccclass,s=n.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.interval_time=400,e.player_amount=10,e.map_tile_size=10,e.fake_name=[],e.map_size=0,e.isNewEgg=!1,e.map_end_posx=0,e.isEndGame=!0,e.isStartGame=!1,e.players=[{score:0,isGotEgg:!1,name:"Duc",position:cc.v2(0,0),color:0,net_latency:0}],e.eggPos=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.map_size=64*(2*this.map_tile_size-2)-21,this.isNewEgg=!1,this.map_end_posx=this.map_size/2,this.isEndGame=!1;var e=cc.find("Canvas");this.gameManager=e.getComponent("gameManager");for(var o=0;o<this.player_amount;o++)this.players[o]={score:0,isGotEgg:!1,name:"h",position:cc.v2(0,0),color:Math.floor(5*Math.random()),net_latency:this.interval_time},this.players[o].name=this.fake_name[Math.round(Math.random()*(this.fake_name.length-1))]+Math.round(100*Math.random()).toString(),this.players[o].position=cc.v2(Math.round(Math.random()*this.map_size-this.map_size/2),Math.round(Math.random()*this.map_size-this.map_size/2));this.eggPos=cc.v2(0,0),this.randomEggPos(),setTimeout(function(){t.simpleAi()},this.interval_time)},e.prototype.gotMessage=function(t,e,o,i,r){this.isEndGame=r,this.isStartGame=i,this.players[e]=t,t.isGotEgg&&(this.isNewEgg==o&&(this.players[e].score+=1,this.isNewEgg=!this.isNewEgg,this.randomEggPos(),this.sendMessage(this.players)),this.players[e].isGotEgg=!1)},e.prototype.sendMessage=function(t){this.gameManager.gotMessage(t,this.isNewEgg,this.eggPos)},e.prototype.randomEggPos=function(){this.eggPos=cc.v2(Math.round(Math.random()*this.map_size-this.map_size/2),Math.round(Math.random()*this.map_size-this.map_size/2))},e.prototype.getEggDistance=function(t){return Math.abs(this.eggPos.y-this.players[t].position.y)+Math.abs(this.eggPos.x-this.players[t].position.x)},e.prototype.simpleAi=function(){var t=this;if(this.interval_time=400*Math.random()+100,!this.isEndGame){var e=0,o=1e5;this.players.forEach(function(i,r){0!=r&&t.getEggDistance(r)<o&&(o=t.getEggDistance(r),e=r)}),this.players[e].net_latency=this.interval_time;var i=350*this.interval_time,r=this.eggPos;r=r.sub(this.players[e].position),Math.abs(r.x)<10?r.y>0?r.y>i?this.players[e].position.y+=i:this.players[e].position.y+=r.y:r.y<-i?this.players[e].position.y-=i:this.players[e].position.y+=r.y:r.x>0?r.x>i?this.players[e].position.x+=i:this.players[e].position.x+=r.x:r.x<-i?this.players[e].position.x-=i:this.players[e].position.x+=r.x;for(var n=1;n<this.player_amount;n++)if(n!=e){var a=cc.v2(0,0);a=Math.random()>.5?Math.random()<.5?cc.v2(i,0):cc.v2(-i,0):Math.random()<.5?cc.v2(0,-i):cc.v2(0,i),this.players[n].position=cc.v2(this.players[n].position.add(a)),this.players[n].net_latency=this.interval_time,this.players[n].position.x<-this.map_end_posx&&(this.players[n].position.x=-this.map_end_posx),this.players[n].position.y<-this.map_end_posx&&(this.players[n].position.y=-this.map_end_posx),this.players[n].position.x>this.map_end_posx&&(this.players[n].position.x=this.map_end_posx),this.players[n].position.y>this.map_end_posx&&(this.players[n].position.y=this.map_end_posx)}this.sendMessage(this.players)}setTimeout(function(){t.simpleAi()},this.interval_time)},e.prototype.update=function(){this.isEndGame&&clearInterval(this.myAI)},r([s],e.prototype,"interval_time",void 0),r([s],e.prototype,"player_amount",void 0),r([s],e.prototype,"map_tile_size",void 0),r([s([cc.String])],e.prototype,"fake_name",void 0),e=r([a],e)}(cc.Component);o.serverSimulator=c,cc._RF.pop()},{}],wall:[function(t,e,o){"use strict";cc._RF.push(e,"a276fysJolGL4+YfBnfgLWT","wall");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),r=this&&this.__decorate||function(t,e,o,i){var r,n=arguments.length,a=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(n<3?r(a):n>3?r(e,o,a):r(e,o))||a);return n>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,a=n.ccclass,s=(n.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0},e.prototype.start=function(){},e=r([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}]},{},["cameraFollow","egg","gameManager","otherPlayer","player","serveSimulator","wall"]);